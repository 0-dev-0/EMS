{% extends 'base.html' %}

{% block content %}
<div class="content-wrapper">
  <section class="content">
    <div class="container-fluid">

      <div class="card card-warning">
        <div class="card-header">
          <h3 class="card-title">Update Attendance</h3>
        </div>

        <form method="post">
          {% csrf_token %}

          <div class="card-body">

            <!-- Employee (read-only) -->
            <div class="form-group">
              <label>Employee</label>
              <input type="text"
                     class="form-control"
                     value="{{ attendance.employee.first_name }} {{ attendance.employee.last_name }}"
                     disabled>
            </div>

            <!-- Date (read-only) -->
            <div class="form-group">
              <label>Date</label>
              <input type="date"
                     class="form-control"
                     value="{{ attendance.date|date:'Y-m-d' }}"
                     disabled>
            </div>

            <!-- Status -->
            <div class="form-group">
              <label>Status</label>
              <select name="status" class="form-control" required>

                <option value="Present"
                  {% if attendance.status == 'Present' %}selected{% endif %}>
                  Present
                </option>

                <option value="Absent"
                  {% if attendance.status == 'Absent' %}selected{% endif %}>
                  Absent
                </option>

                <option value="Leave"
                  {% if attendance.status == 'Leave' %}selected{% endif %}>
                  Leave
                </option>

                <option value="Holiday"
                  {% if is_holiday %}selected{% endif %}>
                  Holiday
                </option>

              </select>
            </div>

          </div>

          <div class="card-footer">
            <button type="submit" class="btn btn-primary">Update</button>
            <a href="{% url 'attendance_detail' attendance.employee.id %}"
               class="btn btn-secondary">Cancel</a>
          </div>

        </form>
      </div>

    </div>
  </section>
</div>
{% endblock %}
